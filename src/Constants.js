const FIRST_DAY = 8;
const TRANSFER_COST = 28;

export const ROOM_TYPES = Object.freeze({
 "allure-laguna": "Allure Junior Suite Laguna View",
  "allure-partial-ocean": "Allure Junior Suite Partial Ocean View",
  "allure-ocean": "Allure Junior Suite Ocean View",
  "xcelerate-ocean": "Xcelerate Junior Suite Ocean View",
  "xcelerate-ocean-front": "Xcelerate Junior Suite Ocean Front",
  "xhale-ocean-front": "Xhale Club Junior Suite Ocean Front",
  "xhale-ocean-front-upper": "Xhale Club Junior Suite Upper Ocean Front",
});

export const NIGHTS = Object.freeze([3, 4, 5]);

export const PEOPLE = Object.freeze([1, 2, 3]);

const SINGLE_RATES = Object.freeze({
  "allure-laguna": [
    325.64, // "2023-11-08"
    383.33, // "2023-11-09"
    383.33, // "2023-11-10"
    383.33, // "2023-11-11"
    325.64, // "2023-11-12"
    325.64, // "2023-11-13"
  ],
  "allure-partial-ocean": [
    346.15, // "2023-11-08"
    406.41, // "2023-11-09"
    406.41, // "2023-11-10"
    406.41, // "2023-11-11"
    346.15, // "2023-11-12"
    346.15, // "2023-11-13"
  ],
  "allure-ocean": [
    391.03, // "2023-11-08"
    460.26, // "2023-11-09"
    460.26, // "2023-11-10"
    460.26, // "2023-11-11"
    391.03, // "2023-11-12"
    391.03, // "2023-11-13"
  ],
  "xcelerate-ocean": [
    420.51, // "2023-11-08"
    494.87, // "2023-11-09"
    494.87, // "2023-11-10"
    494.87, // "2023-11-11"
    420.51, // "2023-11-12"
    420.51, // "2023-11-13"
  ],
  "xcelerate-ocean-front": [
    562.82, // "2023-11-08"
    661.54, // "2023-11-09"
    661.54, // "2023-11-10"
    661.54, // "2023-11-11"
    562.82, // "2023-11-12"
    562.82, // "2023-11-13"
  ],
  "xhale-ocean-front": [
    603.85, // "2023-11-08"
    708.97, // "2023-11-09"
    708.97, // "2023-11-10"
    708.97, // "2023-11-11"
    603.85, // "2023-11-12"
    603.85, // "2023-11-13"
  ],
  "xhale-ocean-front-upper": [
    697.44, // "2023-11-08"
    819.23, // "2023-11-09"
    819.23, // "2023-11-10"
    819.23, // "2023-11-11"
    697.44, // "2023-11-12"
    697.44, // "2023-11-13"
  ],
});

const DOUBLE_RATES = Object.freeze({
  "allure-laguna": [
    203.85, // "2023-11-08"
    239.74, // "2023-11-09"
    239.74, // "2023-11-10"
    239.74, // "2023-11-11"
    203.85, // "2023-11-12"
    203.85, // "2023-11-13"
  ],
  "allure-partial-ocean": [
    216.67, // "2023-11-08"
    253.85, // "2023-11-09"
    253.85, // "2023-11-10"
    253.85, // "2023-11-11"
    216.67, // "2023-11-12"
    216.67, // "2023-11-13"
  ],
  "allure-ocean": [
    244.87, // "2023-11-08"
    287.18, // "2023-11-09"
    287.18, // "2023-11-10"
    287.18, // "2023-11-11"
    244.87, // "2023-11-12"
    244.87, // "2023-11-13"
  ],
  "xcelerate-ocean": [
    262.82, // "2023-11-08"
    308.97, // "2023-11-09"
    308.97, // "2023-11-10"
    308.97, // "2023-11-11"
    262.82, // "2023-11-12"
    262.82, // "2023-11-13"
  ],
  "xcelerate-ocean-front": [
    280.77, // "2023-11-08"
    330.77, // "2023-11-09"
    330.77, // "2023-11-10"
    330.77, // "2023-11-11"
    280.77, // "2023-11-12"
    280.77, // "2023-11-13"
  ],
  "xhale-ocean-front": [
    301.28, // "2023-11-08"
    355.13, // "2023-11-09"
    355.13, // "2023-11-10"
    355.13, // "2023-11-11"
    301.28, // "2023-11-12"
    301.28, // "2023-11-13"
  ],
  "xhale-ocean-front-upper": [
    348.72, // "2023-11-08"
    410.26, // "2023-11-09"
    410.26, // "2023-11-10"
    410.26, // "2023-11-11"
    348.72, // "2023-11-12"
    348.72, // "2023-11-13"
  ],
});

const TRIPLE_RATES = Object.freeze({
  "allure-laguna": [
    202.99, // "2023-11-08"
    238.89, // "2023-11-09"
    238.89, // "2023-11-10"
    238.89, // "2023-11-11"
    202.99, // "2023-11-12"
    202.99, // "2023-11-13"
  ],
  "allure-partial-ocean": [
    215.38, // "2023-11-08"
    252.99, // "2023-11-09"
    252.99, // "2023-11-10"
    252.99, // "2023-11-11"
    215.38, // "2023-11-12"
    215.38, // "2023-11-13"
  ],
  "allure-ocean": [
    243.59, // "2023-11-08"
    286.32, // "2023-11-09"
    286.32, // "2023-11-10"
    286.32, // "2023-11-11"
    243.59, // "2023-11-12"
    243.59, // "2023-11-13"
  ],
  "xcelerate-ocean": [
    261.97, // "2023-11-08"
    308.12, // "2023-11-09"
    308.12, // "2023-11-10"
    308.12, // "2023-11-11"
    261.97, // "2023-11-12"
    261.97, // "2023-11-13"
  ],
  "xcelerate-ocean-front": [
    279.91, // "2023-11-08"
    329.91, // "2023-11-09"
    329.91, // "2023-11-10"
    329.91, // "2023-11-11"
    279.91, // "2023-11-12"
    279.91, // "2023-11-13"
  ],
  "xhale-ocean-front": [
    300.43, // "2023-11-08"
    353.85, // "2023-11-09"
    353.85, // "2023-11-10"
    353.85, // "2023-11-11"
    300.43, // "2023-11-12"
    300.43, // "2023-11-13"
  ],
  "xhale-ocean-front-upper": [
    347.86, // "2023-11-08"
    408.97, // "2023-11-09"
    408.97, // "2023-11-10"
    408.97, // "2023-11-11"
    347.86, // "2023-11-12"
    347.86, // "2023-11-13"
  ],
});

export const calculateRate = ({startDate, duration, occupancy, roomType, }) => {
  let rateDict = TRIPLE_RATES[roomType]
  if (occupancy === "1") {
    rateDict = SINGLE_RATES[roomType];
  } else if (occupancy === "2") {
    rateDict = DOUBLE_RATES[roomType];
  }
  const dayInBlock = new Date(startDate).getUTCDate() - FIRST_DAY;

  const rateDictSliver = rateDict.slice(dayInBlock, dayInBlock + Number(duration))
  return Number(rateDictSliver.reduce((a, b) => a + b, TRANSFER_COST)).toFixed(2);
}